(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function l(e){return e<=2?{immediate:!0,delay:0}:{immediate:!1,delay:3e3}}let r=!1;function a(){if(!("speechSynthesis"in window))return;let e=window.speechSynthesis;e.getVoices();try{e.cancel();let t=new SpeechSynthesisUtterance(" ");t.volume=0,e.speak(t),r=!0}catch{}}async function n(e){if(!("speechSynthesis"in window))return;await new Promise(e=>{if(!("speechSynthesis"in window))return e();let t=window.speechSynthesis,s=t.getVoices();if(s&&s.length)return e();let l=()=>{let s=t.getVoices();s&&s.length&&(t.removeEventListener("voiceschanged",l),e())};t.addEventListener("voiceschanged",l),setTimeout(()=>{t.removeEventListener("voiceschanged",l),e()},800)});let t=window.speechSynthesis;t.cancel();let s=new SpeechSynthesisUtterance(e);s.rate=1,s.pitch=1,s.volume=1,s.lang="en-US",s.onerror=e=>{console.warn("TTS error:",e.error,"primed:",r)},t.speak(s)}function o(e,t,s,r,a,n,i,d,c="intervention",m=1){let x=l(e),h=e<=2?1:.05;return{sessionNumber:e,level:m,date:new Date().toISOString(),correctAnswers:t,assistedAnswers:s,noAnswers:r,totalQuestions:a,accuracy:(t+s*h)/a*100,timeToRespond:n,wordsAsked:i,responseTypes:d,phase:c,promptType:x.immediate?"immediate":"delay"}}function i(e,t){let s=e.filter(e=>e.level===t);if(0===s.length)return!1;let l=s.filter(e=>"delay"===e.promptType);if(l.length<2)return!1;let r=l.length-1,a=l.length>=2&&l[r].accuracy>=90&&l[r-1].accuracy>=90,n=l.length>=3&&l.slice(-3).reduce((e,t)=>e+t.accuracy,0)/3>=80;return a||n}let d={1:["the","and","a","to","of","in","is","you","that","it","he","was","for","on","are","with","as","I","his","they"],2:["be","at","this","have","from","or","had","by","hot","has","her","would","there","their","what","so","up","out","if","about"],3:["who","oil","use","two","how","its","said","each","which","she","do","an","all","into","could","year","your","work","first","made"],4:["when","them","many","some","these","would","other","than","then","now","look","only","come","over","also","back","after","use","two","way"],5:["because","through","before","around","another","while","should","between","always","every","under","never","being","often","both","once","where","right","own","might"],6:["although","however","whether","among","during","several","therefore","toward","without","within","against","beneath","beyond","despite","except","throughout","underneath","alongside","besides","meanwhile"],7:["consequently","furthermore","nevertheless","accordingly","alternatively","subsequently","simultaneously","particularly","specifically","essentially","approximately","immediately","significantly","individually","collectively","temporarily","permanently","originally","primarily","relatively"],8:["notwithstanding","correspondingly","predominantly","extraordinarily","comprehensively","substantially","systematically","theoretically","fundamentally","considerably","dramatically","increasingly","respectively","traditionally","universally","proportionally","substantially","exceptionally","remarkably","understandably"]};function c(e,t=5){return[...d[e]||d[1]].sort(()=>Math.random()-.5).slice(0,t)}function m({level:e,sessionNumber:r,targetWords:a,baselineMode:o=!1,onGameComplete:i,onCancel:d}){let[m,x]=(0,s.useState)([]),[h,u]=(0,s.useState)(0),[g,p]=(0,s.useState)(0),[b,f]=(0,s.useState)(0),[y,v]=(0,s.useState)(0),[j,w]=(0,s.useState)(!1),[N,S]=(0,s.useState)(null),[C,k]=(0,s.useState)(10),[T,A]=(0,s.useState)(!0),[q,I]=(0,s.useState)([]),[L,D]=(0,s.useState)([]),[O,R]=(0,s.useState)(!1),[_,P]=(0,s.useState)(!1),[M,W]=(0,s.useState)(0),[E,$]=(0,s.useState)(null),U=(0,s.useRef)(null),[V,F]=(0,s.useState)([]),J=(0,s.useRef)(1),[B,Q]=(0,s.useState)([]),G=(0,s.useRef)(1),[H,z]=(0,s.useState)(3),[Y,K]=(0,s.useState)(!1),X=l(r),[Z,ee]=(0,s.useState)(X.delay);if((0,s.useEffect)(()=>{let t=(a&&a.length>0?[...a].sort(()=>Math.random()-.5).slice(0,10):c(0===e?1:e,10)).map(t=>{let s=[t,...c(0===e?1:e,3).filter(e=>e!==t)].sort(()=>Math.random()-.5);return{word:t,options:s}});Promise.resolve().then(()=>x(t))},[e,a]),(0,s.useEffect)(()=>{if(0===m.length||Y)return;if(null===H)return void Promise.resolve().then(()=>K(!0));let e=setTimeout(()=>{3===H?z(2):2===H?z(1):1===H?z("Go!"):"Go!"===H&&z(null)},1e3);return()=>clearTimeout(e)},[H,m.length,Y]),(0,s.useEffect)(()=>{0!==m.length&&Y&&Promise.resolve().then(()=>{k(10),A(!o),R(!0),ee(3e3)})},[h,m.length,o,Y]),(0,s.useEffect)(()=>{if(!o&&!j&&0!==m.length&&Y){if(Z>0){let e=setTimeout(()=>{ee(e=>e-1e3)},1e3);return()=>clearTimeout(e)}0===Z&&m.length>0&&n(m[h].word)}},[Z,j,m,h,o,Y]),(0,s.useEffect)(()=>{if(o||!T||j||0===m.length||!Y)return;let e=setTimeout(()=>{k(e=>{if(e<=1){w(!0),S(null),A(!1);let e=[...q,10],t=[...L,"no-answer"],s=y+1;return I(e),D(t),v(s),setTimeout(()=>{if(h+1<m.length)u(h+1),w(!1),S(null),k(10),A(!0),R(!1),ee(X.delay);else{let t=m.map(e=>e.word);i({correct:g,assisted:b,noAnswer:y,total:m.length,newStreak:+(g===m.length),responsesTimes:e,wordsAsked:t,responseTypes:L,sessionPoints:M})}},2e3),0}return e-1})},1e3);return()=>clearTimeout(e)},[C,T,j,m,q,h,g,b,X.delay,i,O,o,L,y,M,Y]),0===m.length)return(0,t.jsx)("div",{className:"text-center text-gray-600",children:"Loading questions..."});if(null!==H){let e=[{label:"3",position:"bottom-left",style:"bottom-4 left-4"},{label:"2",position:"bottom-right",style:"bottom-4 right-4"},{label:"1",position:"top-right",style:"top-4 right-4"},{label:"Go!",position:"top-left",style:"top-4 left-4"}],s=3===H?e[0]:2===H?e[1]:1===H?e[2]:e[3];return(0,t.jsx)("div",{className:"fixed inset-0 bg-purple-900/80 flex items-center justify-center z-50",children:(0,t.jsx)("div",{className:"relative w-full h-full max-w-4xl",children:(0,t.jsx)("div",{className:`absolute ${s.style} text-9xl font-bold text-white drop-shadow-2xl animate-bounce`,children:H})})})}let et=m[h].word,es=m[h].options,el=(h+1)/m.length*100;return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto px-4 flex flex-col justify-center items-center",children:[(0,t.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg w-full max-w-2xl",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-gray-700",children:["Session ",r]}),o?(0,t.jsx)("p",{className:"text-xs text-gray-700",children:"Baseline mode: no prompts, no timer"}):r<=2?(0,t.jsx)("p",{className:"text-xs text-blue-600",children:"âš¡ Immediate audible prompt"}):(0,t.jsx)("p",{className:"text-xs text-orange-600",children:"â±ï¸ 3-second delay before prompt"})]})}),(0,t.jsx)("div",{className:"mb-4 w-full max-w-2xl",children:(0,t.jsxs)("div",{ref:U,className:"flex items-center justify-center gap-4 bg-yellow-100 border-2 border-yellow-300 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸª™"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-yellow-700",children:["Session Coins: ",M]}),null!==E&&(0,t.jsxs)("span",{className:"text-sm font-bold text-green-700 bg-green-100 border border-green-300 rounded-full px-3 py-1 animate-bounce",children:["+",E]})]})}),(0,t.jsxs)("div",{className:"pointer-events-none fixed inset-0 z-50",children:[B.map(e=>(0,t.jsx)("div",{style:{position:"fixed",left:e.x,top:e.y},children:"trail"===e.kind?(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-300 opacity-80 animate-ping"}):(0,t.jsx)("span",{className:"text-xl drop-shadow animate-bounce",children:"âœ¨"})},e.id)),V.map(e=>(0,t.jsx)("div",{className:"transition-all duration-700 ease-out",style:{position:"fixed",left:e.x,top:e.y},children:(0,t.jsx)("span",{className:"text-2xl drop-shadow",children:"ðŸª™"})},e.id))]}),(0,t.jsxs)("div",{className:"mb-6 w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"flex justify-center gap-8 text-base font-semibold text-gray-700 mb-3",children:[(0,t.jsxs)("span",{children:["Question ",h+1,"/",m.length]}),(0,t.jsxs)("span",{children:["Accuracy: ",g,"/",h+ +!!j]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-300",style:{width:`${el}%`}})})]}),!o&&(0,t.jsx)("div",{className:"text-center mb-8",children:(0,t.jsxs)("div",{className:`text-6xl font-bold transition-all ${C<=3?"text-red-500 animate-pulse":"text-blue-600"}`,children:[C,"s"]})}),!o&&!X.immediate&&Z>0&&(0,t.jsx)("div",{className:"text-center mb-6 p-4 bg-blue-100 rounded-lg max-w-md mx-auto",children:(0,t.jsxs)("p",{className:"text-base font-semibold text-blue-700",children:["ðŸ”Š Listen carefully! Visual prompt in ",(Z/1e3).toFixed(1),"s"]})}),!o&&Z>0&&(0,t.jsx)("div",{className:"text-center mb-8 p-4 bg-blue-100 rounded-lg border-2 border-blue-500 max-w-md mx-auto",children:(0,t.jsxs)("p",{className:"text-base font-semibold text-blue-700",children:["ðŸ”Š Audio prompt in ",Math.ceil(Z/1e3)," seconds..."]})}),(0,t.jsxs)("div",{className:"text-center mb-8 py-6",children:[(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-3xl font-semibold text-gray-700 mb-6",children:"Select the correct word:"}),(0,t.jsx)("div",{className:"text-7xl font-bold text-purple-600 mb-4 py-4",children:et})]}),(0,t.jsx)("p",{className:"text-gray-600 text-base",children:o?"Choose the correct spelling.":"Audio prompt coming in 3 seconds..."})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-6 mb-8 w-full max-w-2xl",children:es.map((e,s)=>{let l="bg-white border-2 border-gray-300 hover:border-blue-500 text-gray-800";return j&&(e===et?l="bg-green-100 border-2 border-green-500 text-green-800":e===N&&e!==et&&(l="bg-red-100 border-2 border-red-500 text-red-800")),(0,t.jsx)("button",{onClick:t=>((e,t)=>{if(!j)if(e===et){let s,l;S(e),w(!0),A(!1);let r=[...q,o?0:10-C];I(r);let a=Z<=0,n=[...L,a?"assisted":"correct"];D(n),a?f(b+1):p(g+1);let d=a?5:10;W(e=>e+d),$(d),setTimeout(()=>$(null),1e3);let c=t?.clientX??window.innerWidth/2,x=t?.clientY??window.innerHeight/2,v=U.current?.getBoundingClientRect(),j=v?v.left+v.width/2:window.innerWidth/2,N=v?v.top+v.height/2:60,T=J.current++;F(e=>[...e,{id:T,x:c,y:x,endX:j,endY:N,animate:!1}]);let O=j-c,_=N-x;setTimeout(()=>{F(e=>e.map(e=>e.id===T?{...e,x:e.endX,y:e.endY,animate:!0}:e))},16);for(let e=1;e<=5;e++){let t=700*e/6;setTimeout(()=>{let e=c+O*t/700,s=x+_*t/700,l=G.current++;Q(t=>[...t,{id:l,x:e,y:s,kind:"trail"}]),setTimeout(()=>{Q(e=>e.filter(e=>e.id!==l))},600)},t)}setTimeout(()=>{for(let e=0;e<6;e++){let t=e/6*Math.PI*2,s=18+10*Math.random(),l=j+Math.cos(t)*s,r=N+Math.sin(t)*s,a=G.current++;Q(e=>[...e,{id:a,x:l,y:r,kind:"sparkle"}]),setTimeout(()=>{Q(e=>e.filter(e=>e.id!==a))},700)}},700),setTimeout(()=>{F(e=>e.filter(e=>e.id!==T))},900),l=(s=new(window.AudioContext||window.webkitAudioContext)).currentTime,[{freq:659.25,time:0,duration:.15},{freq:783.99,time:.1,duration:.15},{freq:1046.5,time:.2,duration:.3}].forEach(e=>{let t=s.createOscillator(),r=s.createGain();t.connect(r),r.connect(s.destination),t.type="sine",t.frequency.value=e.freq;let a=l+e.time;r.gain.setValueAtTime(.3,a),r.gain.exponentialRampToValueAtTime(.01,a+e.duration),t.start(a),t.stop(a+e.duration)}),setTimeout(()=>{if(h+1<m.length)u(h+1),w(!1),S(null),k(10),A(!0),R(!1),ee(X.delay);else{let e=m.map(e=>e.word),t=a?g:g+1,s=M+d;i({correct:t,assisted:a?b+1:b,noAnswer:y,total:m.length,newStreak:+(t===m.length),responsesTimes:r,wordsAsked:e,responseTypes:n,sessionPoints:s})}},2e3)}else P(!0),setTimeout(()=>P(!1),1500)})(e,t),disabled:j,className:`p-8 rounded-xl font-bold text-2xl transition-all transform hover:scale-105 ${l} ${j?"cursor-default":"cursor-pointer hover:shadow-xl"}`,children:e},s)})}),_&&(0,t.jsx)("div",{className:"text-center mb-8 p-4 bg-orange-100 rounded-lg border-2 border-orange-500 max-w-md mx-auto",children:(0,t.jsx)("p",{className:"text-2xl font-bold text-orange-700",children:"ðŸ”„ Try Again"})}),j&&(0,t.jsxs)("div",{className:"text-center mb-8",children:[null===N?(0,t.jsx)("div",{className:"text-4xl mb-2 text-red-600",children:"â° Time's Up!"}):(0,t.jsx)("div",{className:"text-4xl mb-2",children:O?"âœ… Correct with prompt!":"âœ… Correct!"}),(0,t.jsxs)("p",{className:"text-gray-700",children:["The correct answer is: ",(0,t.jsx)("span",{className:"font-bold text-purple-600",children:et})]}),!o&&!X.immediate&&null!==N&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Response time: ",(10-C).toFixed(1),"s"]})]}),(0,t.jsx)("div",{className:"flex gap-4 justify-center",children:(0,t.jsx)("button",{onClick:d,className:"bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-lg transition-all",children:"Cancel"})})]})}function x({onStartGame:e,participantId:l,onStartBaseline:r,onViewHistory:n,levelMastery:o}){let[i,d]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=`${l}::targetWords`,t=localStorage.getItem(e);Promise.resolve().then(()=>{d(!!t&&JSON.parse(t).length>0)})},[l]),(0,t.jsxs)("div",{className:"text-center flex flex-col items-center justify-center min-h-[500px]",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Master sight words through interactive games and challenges!"})}),(0,t.jsxs)("div",{className:"space-y-4 w-full max-w-3xl px-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-6 uppercase text-center",children:"Select Game Mode"}),(0,t.jsxs)("div",{className:"space-y-32 max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-10",children:[(0,t.jsxs)("button",{onClick:()=>{a(),e(1)},className:"bg-gradient-to-b from-green-400 to-green-600 hover:from-green-500 hover:to-green-700 text-white font-bold py-8 px-6 rounded-xl transition-all transform hover:scale-105 shadow-lg",children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:"ðŸŒ±"}),(0,t.jsx)("div",{className:"text-lg",children:"Easy"}),(0,t.jsx)("div",{className:"text-sm opacity-90",children:"Level 1"})]}),(0,t.jsxs)("button",{onClick:()=>{a(),e(2)},disabled:!o?.level1,className:`font-bold py-8 px-6 rounded-xl transition-all transform shadow-lg text-white ${o?.level1?"bg-gradient-to-b from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 hover:scale-105 cursor-pointer":"bg-gray-300 cursor-not-allowed opacity-50"}`,children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:o?.level1?"ðŸŒ¿":"ðŸ”’"}),(0,t.jsx)("div",{className:"text-lg",children:"Medium"}),(0,t.jsx)("div",{className:"text-sm opacity-90",children:"Level 2"}),!o?.level1&&(0,t.jsx)("div",{className:"text-xs mt-2",children:"Master Level 1 first"})]}),(0,t.jsxs)("button",{onClick:()=>{a(),e(3)},disabled:!o?.level2,className:`font-bold py-8 px-6 rounded-xl transition-all transform shadow-lg text-white ${o?.level2?"bg-gradient-to-b from-red-400 to-red-600 hover:from-red-500 hover:to-red-700 hover:scale-105 cursor-pointer":"bg-gray-300 cursor-not-allowed opacity-50"}`,children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:o?.level2?"ðŸ”¥":"ðŸ”’"}),(0,t.jsx)("div",{className:"text-lg",children:"Hard"}),(0,t.jsx)("div",{className:"text-sm opacity-90",children:"Level 3"}),!o?.level2&&(0,t.jsx)("div",{className:"text-xs mt-2",children:"Master Level 2 first"})]})]}),(0,t.jsxs)("button",{onClick:()=>{a(),e(0)},disabled:!i||!o?.level3,className:`w-full font-bold py-8 px-6 rounded-xl transition-all transform shadow-lg text-white ${i&&o?.level3?"bg-gradient-to-b from-purple-400 to-purple-600 hover:from-purple-500 hover:to-purple-700 hover:scale-105 cursor-pointer":"bg-gray-300 cursor-not-allowed opacity-50"}`,children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:o?.level3?"ðŸŽ¯":"ðŸ”’"}),(0,t.jsx)("div",{className:"text-lg",children:"Targeted Words"}),(0,t.jsx)("div",{className:"text-sm opacity-90",children:"Custom Words"}),!o?.level3&&(0,t.jsx)("div",{className:"text-xs mt-2",children:"Master Level 3 to unlock"}),i&&!o?.level3&&(0,t.jsx)("div",{className:"text-xs",children:"(Master Level 3 first)"})]}),(0,t.jsxs)("button",{onClick:()=>{a(),r()},disabled:!i,className:`w-full font-bold py-6 px-6 rounded-xl transition-all transform hover:scale-105 shadow-lg text-white ${i?"bg-gradient-to-b from-slate-500 to-slate-700 hover:from-slate-600 hover:to-slate-800 cursor-pointer":"bg-gray-300 cursor-not-allowed opacity-50"}`,children:[(0,t.jsx)("div",{className:"text-3xl mb-1",children:"ðŸ§ª"}),(0,t.jsx)("div",{className:"text-lg",children:"Baseline Mode"}),(0,t.jsx)("div",{className:"text-xs opacity-90",children:"No prompts Â· No timer"})]}),!i&&(0,t.jsx)("p",{className:"text-sm text-orange-600 text-center",children:"Set target words in Manage Target Words to enable this mode"})]})]}),(0,t.jsxs)("div",{className:"mt-10 pt-8 border-t border-gray-200 w-full",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-600 mb-6 uppercase text-center",children:"Features"}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-8 text-center max-w-4xl",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"text-3xl",children:"ðŸ“š"}),(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:"Learn sight words"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"text-3xl",children:"ðŸŽ¯"}),(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:"Quiz gameplay"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"text-3xl",children:"â­"}),(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:"Earn points"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"text-3xl",children:"ðŸ†"}),(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:"Build streaks"})]})]})})]}),n&&(0,t.jsx)("div",{className:"mt-8 text-center",children:(0,t.jsx)("button",{onClick:n,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-bold py-3 px-8 rounded-lg transition-all transform hover:scale-105 shadow-lg",children:"ðŸ“Š View Score Card"})})]})]})}function h({sessions:e,onNewSession:s,onExportData:l}){let r=function(e){if(0===e.length)return{achieved:!1,accuracy:0,promptedAccuracy:0,unpromptedAccuracy:0,promptedSessions:0,unpromptedSessions:0};let t=e.filter(e=>"immediate"===e.promptType),s=e.filter(e=>"delay"===e.promptType),l=t.length>0?t.reduce((e,t)=>e+t.accuracy,0)/t.length:0,r=s.length>0?s.slice(-3).reduce((e,t)=>e+t.accuracy,0)/Math.min(s.length,3):0,a=s.length-1,n=s.length>=2&&s[a].accuracy>=90&&s[a-1].accuracy>=90,o=s.length>=3&&s.slice(-3).reduce((e,t)=>e+t.accuracy,0)/3>=80;return{achieved:n||o,accuracy:e.reduce((e,t)=>e+t.accuracy,0)/e.length,promptedAccuracy:l,unpromptedAccuracy:r,promptedSessions:t.length,unpromptedSessions:s.length}}(e);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg p-6 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"Prompted Sessions (Immediate Prompt)"}),(0,t.jsx)("div",{className:"text-4xl font-bold",children:r.promptedSessions}),(0,t.jsxs)("div",{className:"text-lg mt-2",children:[r.promptedAccuracy.toFixed(1),"% accuracy"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-400 to-green-600 rounded-lg p-6 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"Unprompted Sessions (Constant Time Delay)"}),(0,t.jsx)("div",{className:"text-4xl font-bold",children:r.unpromptedSessions}),(0,t.jsxs)("div",{className:"text-lg mt-2",children:[r.unpromptedAccuracy.toFixed(1),"% accuracy"]})]})]}),(0,t.jsxs)("div",{className:`bg-gradient-to-br ${r.achieved?"from-purple-400 to-purple-600":"from-orange-400 to-orange-600"} rounded-lg p-6 text-white shadow-lg`,children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"ðŸŽ¯ Mastery Status (Based on Unprompted Performance)"}),(0,t.jsx)("div",{className:"text-2xl font-bold",children:r.achieved?"ðŸ† Achieved":"ðŸ“ˆ In Progress"}),(0,t.jsx)("div",{className:"text-sm mt-2 opacity-90",children:r.achieved?"Achieved: two consecutive unprompted sessions â‰¥90% or average â‰¥80% over last three unprompted sessions":`Current (avg last 3): ${r.unpromptedAccuracy.toFixed(1)}% â€” Target: two consecutive â‰¥90% or avg â‰¥80% over last 3`})]}),e.length>0?(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-100 border-b-2 border-gray-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Session"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Correct"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Assisted"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"No Answer"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Accuracy"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Prompt Type"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map((e,s)=>{let l="immediate"===e.promptType?"Immediate Prompt":"Constant Time Delay",r="immediate"===e.promptType?"âš¡":"â±ï¸";return(0,t.jsxs)("tr",{className:s%2==0?"bg-white":"bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 font-bold text-purple-600",children:e.sessionNumber}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-4 py-3 font-semibold text-green-700",children:e.correctAnswers}),(0,t.jsx)("td",{className:"px-4 py-3 font-semibold text-blue-700",children:e.assistedAnswers}),(0,t.jsx)("td",{className:"px-4 py-3 font-semibold text-red-700",children:e.noAnswers}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${e.accuracy>=80?"bg-green-100 text-green-800":e.accuracy>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[e.accuracy.toFixed(1),"%"]})}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-600",children:[r," ",l]})]},s)})})]})})}):(0,t.jsx)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:(0,t.jsx)("p",{className:"text-gray-600",children:"No sessions yet. Start your first session!"})}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>{a(),s()},className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-8 rounded-lg transition-all transform hover:scale-105 text-lg",children:0===e.length?"ðŸŽ® Start Session 1":`ðŸŽ® Start Session ${e.length+1}`}),(0,t.jsx)("button",{onClick:l,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-bold py-4 px-8 rounded-lg transition-all transform hover:scale-105 text-lg",children:"ðŸ’¾ Export Data for Analysis"})]})]})}function u({score:e,level:s,streak:l,wordsLearned:r}){return(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-400 to-green-600 rounded-lg p-4 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"Score"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:e})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg p-4 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"Reading Level"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:s})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-400 to-red-600 rounded-lg p-4 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"ðŸ”¥ Streak"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:l})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg p-4 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"Words Learned"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:r})]})]})}function g({onSave:e,onCancel:l,currentWords:r}){let[a,n]=(0,s.useState)(r),[o,i]=(0,s.useState)(""),d=()=>{o.trim()&&!a.includes(o.trim().toLowerCase())&&(n([...a,o.trim().toLowerCase()]),i(""))};return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-purple-600 mb-4 text-center",children:"Manage Target Words"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:"Add sight words for your intervention. Minimum 10 words required."}),(0,t.jsxs)("div",{className:"mb-6 flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&d(),placeholder:"Type a word and press Enter",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"}),(0,t.jsx)("button",{onClick:d,className:"bg-purple-500 hover:bg-purple-600 text-white font-bold px-6 py-3 rounded-lg transition-all",children:"Add Word"})]}),(0,t.jsx)("div",{className:"mb-4 text-center",children:(0,t.jsxs)("span",{className:`text-lg font-semibold ${a.length>=10?"text-green-600":"text-orange-600"}`,children:[a.length," words ",a.length<10&&`(need ${10-a.length} more)`]})}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 max-h-96 overflow-y-auto",children:0===a.length?(0,t.jsx)("p",{className:"text-gray-400 text-center py-8",children:"No words added yet"}):(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg shadow",children:[(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:e}),(0,t.jsx)("button",{onClick:()=>{n(a.filter((e,t)=>t!==s))},className:"text-red-500 hover:text-red-700 font-bold ml-2",title:"Remove word",children:"âœ•"})]},s))})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Common Sight Words:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["the","and","for","are","but","not","you","all","can","her","was","one","our","out","day"].map(e=>(0,t.jsx)("button",{onClick:()=>{a.includes(e)||n([...a,e])},disabled:a.includes(e),className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${a.includes(e)?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-700 hover:bg-blue-200 cursor-pointer"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,t.jsx)("button",{onClick:l,className:"bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-lg transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{a.length>=10?e(a):alert("Please add at least 10 words for the intervention.")},disabled:a.length<10,className:`font-bold py-3 px-8 rounded-lg transition-all ${a.length>=10?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Save Target Words"})]})]})}function p({participantId:e,onSave:l,currentInfo:r}){let[a,n]=(0,s.useState)(5),[o,i]=(0,s.useState)(5),[d,c]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{Promise.resolve().then(()=>{r&&(n(r.gradeLevel),i(r.readingLevel)),c(!0)})},[r]),d)?(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-purple-600 mb-4 text-center",children:"Participant Configuration"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-8 text-center",children:["Set the grade level and reading level for ",e]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-xl",children:[(0,t.jsx)("label",{className:"block text-lg font-semibold text-gray-700 mb-4",children:"Current Grade Level"}),(0,t.jsx)("select",{value:a,onChange:e=>n(Number(e.target.value)),className:"w-full px-4 py-3 text-lg font-semibold border-2 border-blue-300 rounded-lg focus:border-blue-500 focus:outline-none bg-white",children:[5,6,7,8].map(e=>(0,t.jsxs)("option",{value:e,children:["Grade ",e]},e))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-xl",children:[(0,t.jsx)("label",{className:"block text-lg font-semibold text-gray-700 mb-4",children:"Reading Level"}),(0,t.jsx)("select",{value:o,onChange:e=>i(Number(e.target.value)),className:"w-full px-4 py-3 text-lg font-semibold border-2 border-green-300 rounded-lg focus:border-green-500 focus:outline-none bg-white",children:[1,2,3,4,5,6,7,8].map(e=>(0,t.jsxs)("option",{value:e,children:["Level ",e]},e))})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-6 rounded-xl border-2 border-purple-200",children:[(0,t.jsx)("h3",{className:"font-bold text-lg text-purple-700 mb-3",children:"Word List Configuration:"}),(0,t.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-semibold text-green-600",children:"Level 1 (Easy):"}),(0,t.jsxs)("span",{children:["Grade ",o," words (at reading level)"]})]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-semibold text-yellow-600",children:"Level 2 (Medium):"}),(0,t.jsxs)("span",{children:["Grade ",Math.floor((o+a)/2)," words (halfway)"]})]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-semibold text-red-600",children:"Level 3 (Hard):"}),(0,t.jsxs)("span",{children:["Grade ",a," words (at grade level)"]})]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-semibold text-purple-600",children:"Targeted Words:"}),(0,t.jsx)("span",{children:"Custom intervention words"})]})]}),o>=a&&(0,t.jsx)("p",{className:"text-orange-600 font-semibold mt-4 text-sm",children:"âš ï¸ Reading level should be below grade level to demonstrate disparity"})]}),(0,t.jsx)("div",{className:"flex gap-4 justify-center pt-4",children:(0,t.jsx)("button",{onClick:()=>{o>=a?alert("Reading level should be below grade level to show disparity. Please adjust."):l({gradeLevel:a,readingLevel:o})},className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-4 px-12 rounded-lg transition-all transform hover:scale-105 shadow-lg",children:"Save Configuration"})})]})]}):(0,t.jsx)("div",{className:"text-center py-8",children:"Loading..."})}function b({question:e,label:s,currentValue:l,onRatingChange:r}){return(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-700 mb-3",children:s}),(0,t.jsx)("div",{className:"flex gap-2 justify-between",children:[1,2,3,4,5].map(s=>(0,t.jsx)("button",{onClick:()=>r(e,s),className:`flex-1 py-3 rounded-lg font-bold transition-all ${l===s?"bg-purple-600 text-white transform scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:s},s))}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsx)("span",{children:"Strongly Disagree"}),(0,t.jsx)("span",{children:"Strongly Agree"})]})]})}function f({onComplete:e,participantId:l=""}){let[r,a]=(0,s.useState)({participantId:l,q5_improvements:"",q6_liked:"",q7_difficulties:""}),n=(e,t)=>{a({...r,[e]:t})},o=(e,t)=>{a({...r,[e]:t})};return(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-purple-600 mb-2",children:"Social Validity Survey"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Please rate your experience with the Ausum Academic Activities intervention"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block font-semibold text-gray-700 mb-2",children:"Participant ID (Optional)"}),(0,t.jsx)("input",{type:"text",value:r.participantId,onChange:e=>o("participantId",e.target.value),placeholder:"Enter participant ID",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-lg mb-6",children:[(0,t.jsx)(b,{question:"q1_helpfulness",label:"1. This intervention was helpful in improving sight word recognition.",currentValue:r.q1_helpfulness,onRatingChange:n}),(0,t.jsx)(b,{question:"q2_engagement",label:"2. The intervention was engaging and maintained my/the participant's attention.",currentValue:r.q2_engagement,onRatingChange:n}),(0,t.jsx)(b,{question:"q3_easeOfUse",label:"3. The app was easy to use and navigate.",currentValue:r.q3_easeOfUse,onRatingChange:n}),(0,t.jsx)(b,{question:"q4_wouldRecommend",label:"4. I would recommend this intervention to others working on sight words.",currentValue:r.q4_wouldRecommend,onRatingChange:n})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-lg mb-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block font-semibold text-gray-700 mb-2",children:"5. What did you like most about the intervention?"}),(0,t.jsx)("textarea",{value:r.q6_liked,onChange:e=>o("q6_liked",e.target.value),rows:3,placeholder:"Your response...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block font-semibold text-gray-700 mb-2",children:"6. Were there any difficulties or challenges with the intervention?"}),(0,t.jsx)("textarea",{value:r.q7_difficulties,onChange:e=>o("q7_difficulties",e.target.value),rows:3,placeholder:"Your response...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block font-semibold text-gray-700 mb-2",children:"7. What improvements or changes would you suggest?"}),(0,t.jsx)("textarea",{value:r.q5_improvements,onChange:e=>o("q5_improvements",e.target.value),rows:3,placeholder:"Your response...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"})]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>{r.q1_helpfulness&&r.q2_engagement&&r.q3_easeOfUse&&r.q4_wouldRecommend?e({participantId:r.participantId||"",date:new Date().toISOString(),q1_helpfulness:r.q1_helpfulness,q2_engagement:r.q2_engagement,q3_easeOfUse:r.q3_easeOfUse,q4_wouldRecommend:r.q4_wouldRecommend,q5_improvements:r.q5_improvements||"",q6_liked:r.q6_liked||"",q7_difficulties:r.q7_difficulties||""}):alert("Please answer all rating questions (1-4) before submitting.")},className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-12 rounded-lg transition-all transform hover:scale-105 text-lg",children:"Submit Survey"})})]})}function y({onBack:e,participantId:l}){let[r,a]=(0,s.useState)([]),[n,o]=(0,s.useState)([]),[i,d]=(0,s.useState)([]),[c,m]=(0,s.useState)([]),x=(0,s.useCallback)(e=>`${l||"default"}::${e}`,[l]);return(0,s.useEffect)(()=>{let e=localStorage.getItem(x("sightWordsSessions")),t=localStorage.getItem(x("baselineSessions")),s=localStorage.getItem(x("socialValiditySurveys")),l=localStorage.getItem(x("targetWords"));Promise.resolve().then(()=>{a(e?JSON.parse(e):[]),o(t?JSON.parse(t):[]),d(s?JSON.parse(s):[]),m(l?JSON.parse(l):[])})},[x]),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-purple-600 mb-6 text-center",children:"Data Export & Analysis"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg p-6 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"Total Sessions"}),(0,t.jsx)("div",{className:"text-4xl font-bold",children:r.length})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-400 to-slate-600 rounded-lg p-6 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"Baseline Sessions"}),(0,t.jsx)("div",{className:"text-4xl font-bold",children:n.length})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-400 to-green-600 rounded-lg p-6 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"Survey Responses"}),(0,t.jsx)("div",{className:"text-4xl font-bold",children:i.length})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg p-6 text-white shadow-lg",children:[(0,t.jsx)("div",{className:"text-sm font-semibold opacity-90",children:"Target Words"}),(0,t.jsx)("div",{className:"text-4xl font-bold",children:c.length})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Export Options"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("button",{onClick:()=>{let e=new Blob([[["Session Number","Date","Correct Answers","Total Questions","Accuracy (%)","Average Response Time (s)","Prompt Type","Words Tested","Response Times (s)"],...r.map(e=>{let t=(e.timeToRespond.reduce((e,t)=>e+t,0)/e.timeToRespond.length).toFixed(2),s=e.sessionNumber<=2?"Immediate":"3sec Delay";return[e.sessionNumber,new Date(e.date).toLocaleDateString(),e.correctAnswers,e.totalQuestions,e.accuracy.toFixed(2),t,s,e.wordsAsked.join("; "),e.timeToRespond.map(e=>e.toFixed(2)).join("; ")]})].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`ctd-sessions-${new Date().toISOString().split("T")[0]}.csv`,s.click()},disabled:0===r.length,className:`w-full text-left p-4 rounded-lg transition-all ${r.length>0?"bg-blue-50 hover:bg-blue-100 border-2 border-blue-300":"bg-gray-100 border-2 border-gray-200 cursor-not-allowed opacity-50"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-gray-800",children:"ðŸ“Š Session Data (CSV)"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Download all session data for statistical analysis in SPSS, Excel, or R"})]}),(0,t.jsx)("div",{className:"text-2xl",children:"â†’"})]})}),(0,t.jsx)("button",{onClick:()=>{if(0===n.length)return void alert("No baseline data available");let e=new Blob([[["Baseline Session","Date","Correct Answers","Total Questions","Accuracy (%)","Words Tested","Response Times (s)"],...n.map(e=>[e.sessionNumber,new Date(e.date).toLocaleDateString(),e.correctAnswers,e.totalQuestions,e.accuracy.toFixed(2),e.wordsAsked.join("; "),e.timeToRespond.map(e=>e.toFixed(2)).join("; ")])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`ctd-baseline-${new Date().toISOString().split("T")[0]}.csv`,s.click()},disabled:0===n.length,className:`w-full text-left p-4 rounded-lg transition-all ${n.length>0?"bg-slate-50 hover:bg-slate-100 border-2 border-slate-300":"bg-gray-100 border-2 border-gray-200 cursor-not-allowed opacity-50"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-gray-800",children:"ðŸ§ª Baseline Data (CSV)"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Download baseline-only sessions (no prompts, no timer)"})]}),(0,t.jsx)("div",{className:"text-2xl",children:"â†’"})]})}),(0,t.jsx)("button",{onClick:()=>{if(0===i.length)return void alert("No survey data available");let e=new Blob([[["Participant ID","Date","Q1: Helpfulness (1-5)","Q2: Engagement (1-5)","Q3: Ease of Use (1-5)","Q4: Would Recommend (1-5)","Q5: Liked Most","Q6: Difficulties","Q7: Improvements"],...i.map(e=>[e.participantId||"N/A",new Date(e.date).toLocaleDateString(),e.q1_helpfulness,e.q2_engagement,e.q3_easeOfUse,e.q4_wouldRecommend,e.q6_liked,e.q7_difficulties,e.q5_improvements])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`social-validity-${new Date().toISOString().split("T")[0]}.csv`,s.click()},disabled:0===i.length,className:`w-full text-left p-4 rounded-lg transition-all ${i.length>0?"bg-green-50 hover:bg-green-100 border-2 border-green-300":"bg-gray-100 border-2 border-gray-200 cursor-not-allowed opacity-50"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-gray-800",children:"ðŸ“‹ Social Validity Survey (CSV)"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Download survey responses for social validity analysis"})]}),(0,t.jsx)("div",{className:"text-2xl",children:"â†’"})]})}),(0,t.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify({exportDate:new Date().toISOString(),participantId:l,targetWords:c,baselineSessions:n,sessions:r,surveys:i,summary:{totalBaselineSessions:n.length,totalSessions:r.length,totalSurveys:i.length,overallAccuracy:r.length>0?(r.reduce((e,t)=>e+t.accuracy,0)/r.length).toFixed(2):0}},null,2)],{type:"application/json"}),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`ctd-all-data-${new Date().toISOString().split("T")[0]}.json`,s.click()},disabled:0===r.length&&0===i.length,className:`w-full text-left p-4 rounded-lg transition-all ${r.length>0||i.length>0?"bg-purple-50 hover:bg-purple-100 border-2 border-purple-300":"bg-gray-100 border-2 border-gray-200 cursor-not-allowed opacity-50"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-gray-800",children:"ðŸ’¾ Complete Data (JSON)"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Download all data in JSON format for backup or custom analysis"})]}),(0,t.jsx)("div",{className:"text-2xl",children:"â†’"})]})})]})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-yellow-800 mb-3",children:"ðŸ“ˆ Dissertation Analysis Tips"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-700 space-y-2",children:[(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Session CSV:"})," Use for graphing accuracy trends, response times, and comparing baseline vs. intervention phases"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Survey CSV:"})," Calculate means, analyze Likert-scale responses, code qualitative feedback"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Statistical Analysis:"})," Import CSV files into SPSS, R, or Excel for t-tests, ANOVAs, effect size calculations"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Graphs:"})," Create line graphs showing accuracy improvement across sessions"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Mastery Criteria:"})," Track when 80%+ accuracy is achieved across 3 consecutive sessions"]})]})]}),(0,t.jsxs)("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-red-800 mb-3",children:"âš ï¸ Danger Zone"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"Clear all stored data. Make sure to export first!"}),(0,t.jsx)("button",{onClick:()=>{confirm("âš ï¸ Are you sure you want to clear ALL data? This cannot be undone! Make sure you have exported your data first.")&&(localStorage.removeItem(x("sightWordsSessions")),localStorage.removeItem(x("baselineSessions")),localStorage.removeItem(x("socialValiditySurveys")),localStorage.removeItem(x("targetWords")),alert("All data has been cleared."),a([]),o([]),d([]),m([]))},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition-all",children:"Clear All Data"})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:e,className:"bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-lg transition-all",children:"â† Back to Home"})})]})}function v({size:e=80,className:s=""}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 100 100",className:s,xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"48",fill:"white",stroke:"#9333EA",strokeWidth:"3"}),(0,t.jsx)("text",{x:"50",y:"55",fontSize:"48",fontWeight:"bold",fill:"url(#gradient)",textAnchor:"middle",fontFamily:"Arial, sans-serif",children:"A"}),(0,t.jsx)("path",{d:"M 25 70 Q 50 80 75 70",stroke:"#EC4899",strokeWidth:"4",fill:"none",strokeLinecap:"round"}),(0,t.jsx)("circle",{cx:"75",cy:"25",r:"3",fill:"#FCD34D"}),(0,t.jsx)("circle",{cx:"70",cy:"30",r:"2",fill:"#FCD34D",opacity:"0.7"}),(0,t.jsx)("circle",{cx:"80",cy:"30",r:"2",fill:"#FCD34D",opacity:"0.7"}),(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#9333EA"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#EC4899"})]})})]})}function j(){let[e,l]=(0,s.useState)("P1"),[r,a]=(0,s.useState)(""),[n,d]=(0,s.useState)([]),[c,b]=(0,s.useState)(null),[j,w]=(0,s.useState)("config"),[N,S]=(0,s.useState)(1),[C,k]=(0,s.useState)([]),[T,A]=(0,s.useState)(0),[q,I]=(0,s.useState)(0),[L,D]=(0,s.useState)([]),[O,R]=(0,s.useState)([]),[_,P]=(0,s.useState)(0),[M,W]=(0,s.useState)(null),[E,$]=(0,s.useState)([]),[U,V]=(0,s.useState)(!1),[F,J]=(0,s.useState)({0:1,1:1,2:1,3:1}),B=(0,s.useCallback)(t=>`${e||"default"}::${t}`,[e]);return(0,s.useEffect)(()=>{let e=localStorage.getItem("allParticipants");if(e)try{Promise.resolve().then(()=>{d(JSON.parse(e))})}catch(e){console.error("Failed to load participants list:",e)}},[]),(0,s.useEffect)(()=>{let e=localStorage.getItem(B("sightWordsSessions")),t=localStorage.getItem(B("baselineSessions")),s=localStorage.getItem(B("targetWords")),l=localStorage.getItem(B("socialValiditySurveys")),r=localStorage.getItem(B("participantConfig")),a=[],n=0,o=0;if(e)try{n=(a=JSON.parse(e)).reduce((e,t)=>e+(10*t.correctAnswers+5*(t.assistedAnswers||0)),0),o=a.reduce((e,t)=>e+t.totalQuestions,0)}catch(e){console.error("Failed to load sessions:",e)}let i=localStorage.getItem(B("totalScore"));if(i)try{n=JSON.parse(i)}catch(e){console.error("Failed to load saved total score:",e)}let d=[];if(s)try{d=JSON.parse(s)}catch(e){console.error("Failed to load target words:",e)}let c=[];if(t)try{c=JSON.parse(t)}catch(e){console.error("Failed to load baseline sessions:",e)}let m=[];if(l)try{m=JSON.parse(l)}catch(e){console.error("Failed to load surveys:",e)}let x=null;if(r)try{x=JSON.parse(r)}catch(e){console.error("Failed to load participant config:",e)}let h={0:1,1:1,2:1,3:1};a.forEach(e=>{h[e.level]=(h[e.level]||1)+1}),Promise.resolve().then(()=>{k(a),J(h),A(n),P(n),I(o),D(d),$(c),R(m),b(x),x?w("home"):w("config")})},[B]),(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-400 via-pink-300 to-blue-300 p-4 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-4xl w-full",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-6 lg:gap-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(v,{size:80,className:"drop-shadow-lg"}),(0,t.jsxs)("h1",{className:"text-4xl lg:text-5xl font-bold text-white drop-shadow-lg",children:["AUSUM",(0,t.jsx)("br",{}),"Academic",(0,t.jsx)("br",{}),"Activities"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center lg:justify-start text-xl text-white drop-shadow-md",children:[(0,t.jsx)("p",{children:"When instruction is engineered,"}),(0,t.jsx)("p",{children:"failure becomes unnecessary."})]})]})}),(0,t.jsx)("div",{className:"bg-white/80 rounded-xl shadow-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-4 justify-between",children:[(0,t.jsxs)("div",{className:"text-sm font-semibold text-gray-700",children:["Current Participant: ",(0,t.jsx)("span",{className:"text-purple-700",children:e})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center w-full md:w-auto",children:[n.length>0&&(0,t.jsx)("select",{value:e,onChange:e=>l(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm flex-1 md:flex-none",children:n.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("input",{value:r,onChange:e=>a(e.target.value.trim()),placeholder:"New participant ID",className:"border border-gray-300 rounded-lg px-3 py-2 text-sm flex-1 md:flex-none",suppressHydrationWarning:!0}),(0,t.jsx)("button",{onClick:()=>{r.trim()&&(l(r),a(""))},className:"bg-purple-600 hover:bg-purple-700 text-white text-sm font-bold px-4 py-2 rounded-lg whitespace-nowrap",suppressHydrationWarning:!0,children:"New Profile"})]})]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u,{score:_,level:N,streak:C.length,wordsLearned:q}),M?.active&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-yellow-100/90 border border-yellow-300 rounded-xl px-4 py-2 shadow-lg animate-bounce",children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸª™ðŸª™ðŸª™"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-yellow-700",children:["+",M.amount]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 mb-8",children:["config"===j&&(0,t.jsx)(p,{participantId:e,onSave:t=>{if(localStorage.setItem(B("participantConfig"),JSON.stringify(t)),b(t),!n.includes(e)){let t=[...n,e];d(t),localStorage.setItem("allParticipants",JSON.stringify(t))}w("home")},currentInfo:c||void 0}),"home"===j&&(0,t.jsx)(x,{onStartGame:e=>{if(V(!1),0===e&&L.length<10){alert("Please set up at least 10 target words first!"),w("wordManager");return}S(c&&0!==e?1===e?c.readingLevel:2===e?Math.floor((c.readingLevel+c.gradeLevel)/2):3===e?c.gradeLevel:e:e),w("playing")},onStartBaseline:()=>{if(L.length<10){alert("Please set up at least 10 target words first!"),w("wordManager");return}V(!0),S(0),w("playing")},participantId:e,onViewHistory:()=>w("history"),levelMastery:{level1:i(C,1),level2:i(C,2),level3:i(C,3)}}),"playing"===j&&(0,t.jsx)(m,{level:N,sessionNumber:F[N]||1,onGameComplete:e=>{if(U){let t=[...E,o(F[N]||1,e.correct,e.assisted,e.noAnswer,e.total,e.responsesTimes,e.wordsAsked,e.responseTypes,"baseline",N)];localStorage.setItem(B("baselineSessions"),JSON.stringify(t)),$(t),V(!1),w("history");return}let t=[...C,o(F[N]||1,e.correct,e.assisted,e.noAnswer,e.total,e.responsesTimes,e.wordsAsked,e.responseTypes,"intervention",N)];localStorage.setItem(B("sightWordsSessions"),JSON.stringify(t)),k(t),J(e=>({...e,[N]:(e[N]||1)+1}));let s=e.sessionPoints??10*e.correct+5*e.assisted,l=T+s;A(l),localStorage.setItem(B("totalScore"),JSON.stringify(l)),W({active:!0,amount:s});let r=Math.max(1,Math.floor((l-T)/30)),a=T,n=setInterval(()=>{(a+=r)>=l&&(a=l,clearInterval(n),setTimeout(()=>W(null),400)),P(a)},30);I(q+e.total),w("history")},onCancel:()=>w("history"),targetWords:0===N?L:void 0,baselineMode:U}),"history"===j&&(0,t.jsx)(h,{sessions:C,onNewSession:()=>{V(!1),w("home")},onExportData:()=>w("export")}),"wordManager"===j&&(0,t.jsx)(g,{currentWords:L,onSave:e=>{localStorage.setItem(B("targetWords"),JSON.stringify(e)),D(e),w("home")},onCancel:()=>w("home")}),"survey"===j&&(0,t.jsx)(f,{onComplete:e=>{let t=[...O,e];localStorage.setItem(B("socialValiditySurveys"),JSON.stringify(t)),R(t),alert("Thank you! Your survey responses have been saved."),w("home")}}),"export"===j&&(0,t.jsx)(y,{onBack:()=>w("home"),participantId:e})]}),"home"===j&&(0,t.jsxs)("div",{className:"flex gap-4 justify-center mb-8 flex-wrap",children:[(0,t.jsxs)("button",{onClick:()=>w("config"),className:"bg-white hover:bg-gray-50 text-blue-600 font-bold py-3 px-6 rounded-lg shadow-lg transition-all border-2 border-blue-300",children:["âš™ï¸ Participant Setup",c&&(0,t.jsxs)("span",{className:"text-xs block mt-1",children:["Grade ",c.gradeLevel," Â· Reading Lvl ",c.readingLevel]})]}),(0,t.jsxs)("button",{onClick:()=>w("wordManager"),className:"bg-white hover:bg-gray-50 text-purple-600 font-bold py-3 px-6 rounded-lg shadow-lg transition-all border-2 border-purple-300",children:["ðŸ“ Manage Target Words ",L.length>0&&`(${L.length})`]}),(0,t.jsx)("button",{onClick:()=>w("survey"),className:"bg-white hover:bg-gray-50 text-pink-600 font-bold py-3 px-6 rounded-lg shadow-lg transition-all border-2 border-pink-300",children:"ðŸ“Š Social Validity Survey"})]}),(0,t.jsxs)("div",{className:"text-center text-white text-sm mt-8 opacity-90",children:[(0,t.jsx)("p",{children:"PhD Dissertation - ABA-Based Sight Word Intervention for Adolescents with Autism"}),(0,t.jsx)("p",{className:"text-xs mt-2",children:"Sessions 1-2: Immediate audible prompt | Sessions 3+: 3-second constant time delay"})]})]})})}e.s(["default",()=>j],31713)}]);